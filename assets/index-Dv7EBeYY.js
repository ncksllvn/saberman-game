import{p as e}from"./phaser-DJc9ez-r.js";let t,s,a,r;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let i,o,n=0,d=!1;const c={title:"Saberman",type:e.AUTO,width:800,height:600,zoom:2,parent:"game-container",backgroundColor:"#028af8",scale:{mode:e.Scale.FIT,autoCenter:e.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},scene:{preload(){this.load.image("sky","assets/sky.png"),this.load.image("ground","assets/platform.png"),this.load.image("star","assets/star.png"),this.load.image("bomb","assets/bomb.png"),this.load.spritesheet("saberman","assets/saberman.png",{frameWidth:32,frameHeight:48})},create(){a=this.input.keyboard.createCursorKeys(),this.add.image(400,300,"sky"),t=this.physics.add.staticGroup(),t.create(400,568,"ground").setScale(2).refreshBody(),t.create(600,400,"ground"),t.create(50,250,"ground"),t.create(750,220,"ground"),s=this.physics.add.sprite(100,450,"saberman"),s.setBounce(.2),s.setCollideWorldBounds(!0),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("saberman",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"saberman",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("saberman",{start:5,end:8}),frameRate:10,repeat:-1}),this.physics.add.collider(s,t),r=this.physics.add.group({key:"star",repeat:11,setXY:{x:12,y:0,stepX:70}}),r.children.iterate((e=>(e.setBounceY(Phaser.Math.FloatBetween(.4,.8)),!0))),this.physics.add.collider(r,t),this.physics.add.overlap(s,r,((e,t)=>{if(t.disableBody(!0,!0),n+=10,i.setText("Score: "+n),0===r.countActive(!0)){r.children.iterate((e=>{e.enableBody(!0,e.x,0,!0,!0)}));var a=s.x<400?Phaser.Math.Between(400,800):Phaser.Math.Between(0,400),d=o.create(a,16,"bomb");d.setBounce(1),d.setCollideWorldBounds(!0),d.setVelocity(Phaser.Math.Between(-200,200),20)}}),void 0,this),i=this.add.text(16,16,"score: 0",{fontSize:"32px",fill:"#000"}),o=this.physics.add.group(),this.physics.add.collider(o,t),this.physics.add.collider(s,o,((e,t)=>{this.physics.pause(),s.setTint(16711680),s.anims.play("turn"),d=!0}),void 0,this)},update(){d||(a.left.isDown?(s.setVelocityX(-160),s.anims.play("left",!0)):a.right.isDown?(s.setVelocityX(160),s.anims.play("right",!0)):(s.setVelocityX(0),s.anims.play("turn")),(a.up.isDown||a.space.isDown)&&s.body.touching.down&&s.setVelocityY(-400),a.down.isDown&&!s.body.touching.down&&s.setVelocityY(300))}}};new e.Game(c);
